local toolkit = {}

toolkit.version = "v1.0"

toolkit.compile = function (code, modules)
  local code = code
  local options = {}

  for k,v in pairs (modules) do
    print (k, v)
    local module = require ("modules." .. tostring(v))
    print ("Applying module: '" .. tostring (v) .. "'\n" .. tostring(module.description))
    code = module.compile (code, options)
  end

  return code
end

return toolkit
